# 웹 서버(Web Server)와 WAS: 역할의 완벽한 분리

## 1. 개요
### 1.1 정의
웹 서비스를 구축할 때 가장 많이 헷갈리는 두 가지 서버 개념입니다.
- **웹 서버 (Web Server):** **정적**인 데이터(HTML, 이미지, CSS 등)를 처리하는 서버입니다.
- **WAS (Web Application Server):** **동적**인 데이터(DB 조회, 로직 처리 등)를 처리하는 서버입니다.

### 1.2 비유
> **"레스토랑의 홀(Hall)과 주방(Kitchen)"**

- **웹 서버 (홀 직원):** 손님(Client)을 맞이하고, 이미 만들어진 메뉴판이나 물(정적 데이터)을 바로 줍니다. 요리가 필요하면 주문을 주방에 넘깁니다.
- **WAS (요리사):** 주문을 받아 지지고 볶아서(로직 수행) 요리(동적 데이터)를 만들어냅니다.

---

## 2. 핵심 비교
가장 중요한 차이는 **"어떤 컨텐츠를 다루는가"**입니다.

| 구분         | 웹 서버 (Web Server)             | WAS (Web Application Server)        |
| :--------- | :---------------------------- | :---------------------------------- |
| **처리 대상**  | **정적 컨텐츠** (Static Pages)     | **동적 컨텐츠** (Dynamic Pages)          |
| **주요 역할**  | HTML/Image 전송, 리버스 프록시        | 비즈니스 로직 실행, DB 연결, 트랜잭션 관리          |
| **해석기**    | 없음 (파일을 그대로 읽어서 줌)            | **Web Container** (JSP, Servlet 구동) |
| **대표 S/W** | **Nginx**, Apache HTTP Server | **Tomcat**, Jeus, WebLogic          |

---

## 3. 동작 구조
실무에서는 효율성을 위해 이 둘을 분리하여 사용합니다.

![웹 서버와 WAS의 아키텍처](https://i.ibb.co/xtX5dWF0/WAS.png)

1.  **Client:** 요청을 보냄 (브라우저)
2.  **Web Server:**
    -   정적 파일(이미지 등)이면 직접 응답.
    -   동적 요청이면 **WAS로 위임(Reverse Proxy)**.
3.  **WAS:** DB 조회 및 로직 수행 후 결과를 HTML로 만들어 반환.
4.  **Web Server:** WAS의 결과를 받아 Client에게 최종 응답.

---

## 4. 왜 분리해서 사용하는가?
톰캣(WAS) 하나만 써도 웹 서버 기능을 할 수 있는데, 왜 굳이 앞에 Nginx(웹 서버)를 둘까요?

1.  **서버 부하 분산 (Load Balancing):**
    -   단순한 이미지 파일 제공까지 값비싼 WAS 자원을 쓰면 낭비입니다. 정적인 건 웹 서버가, 동적인 건 WAS가 처리하여 속도를 높입니다.
2.  **보안 (Security):**
    -   실제 로직과 DB가 연결된 **WAS를 외부에 직접 노출하지 않기 위해서**입니다. 웹 서버를 앞단에 두어 공격을 막는 방패막(DMZ) 역할을 합니다.
3.  **무중단 배포:**
    -   여러 대의 WAS를 두고, 배포 중에 웹 서버가 트래픽을 다른 WAS로 돌려주면 서비스 중단 없이 업데이트가 가능합니다.

---

## 5. 대표적인 소프트웨어

### 5.1 Web Server
-   **Nginx:** 가볍고 동시 접속 처리에 강해 최근 가장 많이 쓰입니다. (Event Driven 방식)
-   **Apache:** 가장 역사가 깊고 기능이 많지만 무겁습니다. (Process Driven 방식)

### 5.2 WAS
-   **Tomcat:** 자바 개발자의 표준입니다. (무료, 오픈소스)
-   **Jeus:** 티맥스소프트의 국산 제품으로, 정부/공공기관 프로젝트(SI)에서 주로 사용합니다.

---

## 6. 결론
**"정적인 건 웹 서버, 동적인 건 WAS"**

이 한 문장만 기억하시면 됩니다. 최근 트렌드는 **Nginx(웹 서버) + Tomcat(WAS) + Spring Boot** 조합을 표준처럼 사용하고 있으니, 이 구조를 이해해두시면 실무 적응에 큰 도움이 됩니다.