# 컬렉션 프레임워크(Collections Framework): 자료구조의 정석

## 1. 개요 (Overview)
### 1.1 정의
**컬렉션 프레임워크(Collections Framework)**란 다수의 데이터(객체)를 쉽고 효과적으로 처리할 수 있도록 표준화된 인터페이스와 클래스의 집합입니다.
쉽게 말해, **"데이터를 저장하는 자료구조(Data Structure)와 이를 처리하는 알고리즘(Algorithm)을 구조화하여 제공하는 API"**입니다.

### 1.2 핵심 구조 (Hierarchy)
자바의 컬렉션은 크게 두 가지 뿌리로 나뉩니다.

1.  **Collection 인터페이스:** 하나의 데이터 덩어리를 다룸 (`List`, `Set`, `Queue`)
2.  **Map 인터페이스:** 키(Key)와 값(Value)의 쌍을 다룸 (`Map`)

> `Map`은 구조상의 차이로 인해 `Collection` 인터페이스를 상속받지 않고 별도로 존재합니다.

![자바 컬렉션 프레임워크 계층 구조도](https://i.ibb.co/KzLkxfJP/image.png)

---

## 2. 주요 인터페이스 및 특징 (Key Interfaces)

| 인터페이스 | 특징 | 순서 | 중복 | 대표 구현체 |
| :--- | :--- | :--- | :--- | :--- |
| **List** | 순서가 있는 데이터의 집합 | O | O | `ArrayList`, `LinkedList` |
| **Set** | 순서가 없는 데이터의 집합 | X | X | `HashSet`, `TreeSet` |
| **Queue** | **들어온 순서대로 나가는(FIFO) 통로** | **O** | **O** | `LinkedList`, `PriorityQueue` |
| **Map** | 키(Key)와 값(Value)의 쌍으로 이루어진 데이터 | X | Key(X), Value(O) | `HashMap`, `TreeMap` |

---

## 3. 상세 동작 원리 및 구현체 (Details)

### 3.1 List: 순서가 중요할 때
- **ArrayList:** 내부적으로 배열(Array)을 이용합니다. 조회가 빠르지만, 중간 삽입/삭제가 느립니다.
- **LinkedList:** 노드(Node) 연결 구조입니다. 삽입/삭제가 빠르지만, 조회가 느립니다.

### 3.2 Set: 중복을 허용하지 않을 때
- **HashSet:** 해시 알고리즘을 사용하여 검색이 빠르지만, 순서가 없습니다.
- **TreeSet:** 이진 탐색 트리 구조로 저장과 동시에 정렬됩니다.

### 3.3 Queue: 선입선출(FIFO)이 필요할 때
데이터를 임시로 저장해 두고, **들어온 순서대로 하나씩 꺼내서 처리**해야 할 때 사용합니다. (예: 프린터 인쇄 대기열, 은행 번호표)

- **LinkedList:** `List`이기도 하지만, `Queue` 인터페이스도 구현했습니다. 일반적인 큐(FIFO)로 가장 많이 사용됩니다.
- **PriorityQueue (우선순위 큐):** 들어온 순서와 상관없이, **우선순위가 높은 데이터가 먼저 나갑니다.** 내부적으로 힙(Heap) 자료구조를 사용하여 데이터를 자동으로 정렬 상태로 유지합니다. (예: 응급실 환자 처리)

### 3.4 Map: 키값으로 데이터를 찾을 때
- **HashMap:** 가장 많이 사용됩니다. 검색이 빠릅니다.
- **TreeMap:** Key를 기준으로 정렬되어 저장됩니다.

---

## 4. 왜 사용하는가? (Why & Importance)
1.  **생산성 & 유지보수성:** 검증된 자료구조를 인터페이스 기반으로 쉽게 가져다 쓸 수 있습니다.
2.  **고성능:** 표준 라이브러리의 최적화된 알고리즘을 누릴 수 있습니다.
3.  **Queue의 필요성:** **순차적인 작업 처리**나 데이터가 폭주할 때 잠시 담아두는 **버퍼(Buffer)** 역할로 필수적입니다.

---

## 5. 예시 코드 (Example)
상황별로 어떤 컬렉션을 써야 하는지 봅시다.

```java
import java.util.*;

public class CollectionExam {
    public static void main(String[] args) {
        // 1. List: 순서대로 장보기 목록 (중복 허용)
        List<String> list = new ArrayList<>(Arrays.asList("우유", "계란", "우유"));
        System.out.println("List: " + list); // [우유, 계란, 우유]

        // 2. Set: 로또 번호 추첨 (중복 불가)
        Set<Integer> set = new HashSet<>(Arrays.asList(1, 1, 7, 45, 23));
        System.out.println("Set: " + set); // [1, 7, 23, 45] (순서 보장 X)
        
        // 3-1. Queue (LinkedList): 선착순 대기열 (FIFO)
        Queue<String> waitingQueue = new LinkedList<>();
        waitingQueue.offer("손님1");
        waitingQueue.offer("손님2");
        waitingQueue.offer("손님3");

        System.out.println("\n=== 큐 처리 시작 ===");
        while (!waitingQueue.isEmpty()) {
            // poll(): 가장 먼저 들어온 데이터를 꺼내고 삭제함
            System.out.println("입장: " + waitingQueue.poll());
        }
        // 출력: 입장: 손님1 -> 입장: 손님2 -> 입장: 손님3

        // 3-2. PriorityQueue: 응급실 (우선순위 높은 순)
        // (기본적으로 숫자가 작을수록 우선순위가 높음)
        Queue<Integer> emergencyQueue = new PriorityQueue<>();
        emergencyQueue.offer(3); // 경상 환자
        emergencyQueue.offer(1); // 중환자 (가장 급함)
        emergencyQueue.offer(5); // 일반 환자

        System.out.println("\n=== 응급실 처리 시작 ===");
        while (!emergencyQueue.isEmpty()) {
            System.out.println("치료: 환자 등급 " + emergencyQueue.poll());
        }
        // 출력: 치료: 환자 등급 1 -> 치료: 환자 등급 3 -> 치료: 환자 등급 5
        
        // 4. Map: 학생 성적 관리 (Key-Value)
        Map<String, Integer> map = new HashMap<>();
        map.put("철수", 90);
        map.put("영희", 100);
        System.out.println("\nMap: " + map); // {영희=100, 철수=90}
    }
}
```

---

## 6. 사용 시 주의할 점 & Tip
* **동시성:** 멀티 스레드 환경에서는 `ConcurrentHashMap`, `BlockingQueue`(큐의 경우) 등을 사용해야 합니다.
* **Queue 메서드:** 예외를 던지는 메서드(`add`, `remove`, `element`)와 null/false를 반환하는 메서드(`offer`, `poll`, `peek`)의 차이를 알아두면 좋습니다. 실무에선 안전한 후자를 선호합니다.

---

## 7. 결론 (Conclusion)
자바 컬렉션 프레임워크는 상황에 맞는 도구를 선택하는 능력이 핵심입니다.

* **순서대로 데이터 관리?** -> `List`
* **중복 없는 유니크한 데이터?** -> `Set`
* **들어온 대로 순차 처리(FIFO)?** -> `Queue` (일반적)
* **급한 것부터 처리?** -> `PriorityQueue`
* **키 값으로 빠른 검색?** -> `Map`

특히 Queue는 웹 서버의 요청 처리나 비동기 작업에서 버퍼로 매우 중요하게 사용되니 꼭 익혀두세요!