# Spring Boot REST API 서버 구현 과제

React 개인 프로젝트(SPA)에서 사용할 **백엔드 REST API 서버**를 Spring Boot로 구현한다.

프론트엔드에서 필요로 하는 기능(회원가입/로그인, 게시판 CRUD)을 **RESTful 설계 원칙에 맞춰 제공하는 것**이 목표이다.

> ⚠️ 이번 과제에서는 로그인 상태 유지(세션, 토큰, Spring Security)는 다루지 않는다.
> 
> 백엔드는 오직 **요청을 받고, 검증하고, 데이터를 주고받는 역할**에만 집중한다.

## 목표

1. React 과제에서 필요한 기능을 백엔드에서 제공하는 **REST API 서버**로 구현한다.
    
2. HTTP 메서드, URI 설계, 상태 코드, Request/Response Body 설계를 통해
    
    **RESTful 설계 방식**을 이해하고 직접 적용해본다.
    

## RESTful 설계 요구사항

다음 항목들을 의식적으로 고민하고 설계할 것.

### 1. URI 설계

- **리소스는 복수형 명사 사용 권장**
    - `/api/members`, `/api/posts`
- 동사 대신 HTTP 메서드로 행위 표현
    - ❌ `/api/createPost`
    - ✅ `POST /api/posts`
- 계층 구조 표현
    - (선택) `/api/members/{id}/posts` 형태로 회원별 게시글 조회 등 확장 가능

### 2. HTTP 메서드 사용

- 조회: `GET`
- 생성: `POST`
- 전체 수정: `PUT`
- 부분 수정: `PATCH` (선택)
- 삭제: `DELETE`

### 3. HTTP 상태 코드 설계

에러처리를 해야할 부분이 있다면 걱 상황별로 **적절한 상태 코드**를 반환해야 한다.

- `200 OK` : 일반적인 성공 응답
- `201 Created` : 리소스 생성 성공 (예: 회원가입, 게시글 작성)
- `400 Bad Request` : 잘못된 요청 데이터 (유효성 검증 실패 등)
- `404 Not Found` : 해당 리소스 없음 (없는 게시글 조회 등)
- `409 Conflict` : 이메일 중복 등 충돌 상황 (선택)
- `500 Internal Server Error` : 서버 내부 오류 (디버깅용 로그 필수)

### 4. Request / Response 구조

- 요청과 응답은 모두 **JSON 형식** 사용하며 엔티티를 직접 반환하지않고 DTO를 사용한다.

### README에 포함해야 할 내용

1. **프로젝트 개요**
2. **사용 기술 스택**
3. **주요 도메인 설명**
4. **API 명세(이부분에 집중해서 작성)**
    - 각 엔드포인트에 대해:
        - Method + URL
        - Request Body 예시
        - Response 예시
        - 사용 상태 코드
5. 실행 방법

### (연동전 확인)React–Spring Boot 연동 시 발생할 수 있는 에러 (CORS)

React(프론트)에서 Spring Boot(백엔드) API를 호출할 때, 다음과 같은 에러가 발생할 수 있습니다.

> Access to fetch at '[http://localhost:8080/](http://localhost:8080/)...' from origin '[http://localhost:3000](http://localhost:3000)' has been blocked by CORS policy…

이는 브라우저가 **서로 다른 출처(origin)** 간의 요청을 기본적으로 막기 때문에 발생하는 문제입니다.

- React 개발 서버: `http://localhost:3000`
- Spring Boot 서버: `http://localhost:8080`

→ **포트 번호가 다르면 출처가 다르다고 판단**하여 CORS 에러가 발생합니다.

### 개발 단계에서의 간단한 해결 방법: React Proxy 사용

개발 단계에서는 복잡한 설정 대신, **React 쪽에 proxy를 설정하는 것만으로 간단하게 CORS 문제를 우회**할 수 있습니다.

1. **React 프로젝트의 `package.json`에 proxy 설정 추가**

```json
{
  "proxy": "<http://localhost:8080>"
}
```

1. **API 호출 시에는 도메인을 쓰지 말고 “상대 경로”로 호출**

```jsx
// 이렇게 작성 (O)
fetch("/api/posts");

// 이렇게 작성 (X)
// fetch("<http://localhost:8080/api/posts>");
```

이렇게 설정하면,

- 브라우저는 `http://localhost:3000`으로 요청했다고 생각하지만,
- React 개발 서버가 내부적으로 `http://localhost:8080`으로 요청을 대신 전달해 주기 때문에 **CORS 에러 없이 백엔드와 통신**할 수 있습니다.

> 주의: 이 방법은 개발 환경에서만 사용하는 임시 해결책입니다.
> 
> 실제 배포 환경에서는 Spring Boot 서버 쪽에서 CORS 설정을 따로 해주어야 합니다.